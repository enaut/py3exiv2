======================================================================
ERROR: testReadMetadata (readmetadatatestcase.ReadMetadataTestCase)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/pyexiv2/metadata.py", line 182, in _get_iptc_tag
    return self._tags['iptc'][key]
KeyError: 'Iptc.Application2.Copyright'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/vincent/pyexiv2/py3/py3exiv2/test/readmetadatatestcase.py", line 110, in testReadMetadata
    self.check_type_and_values(image[key], ktype, values)
  File "/usr/lib/python3/dist-packages/pyexiv2/metadata.py", line 213, in __getitem__
    return getattr(self, '_get_%s_tag' % family)(key)
  File "/usr/lib/python3/dist-packages/pyexiv2/metadata.py", line 185, in _get_iptc_tag
    tag = IptcTag._from_existing_tag(_tag)
  File "/usr/lib/python3/dist-packages/pyexiv2/iptc.py", line 116, in _from_existing_tag
    tag._raw_values = _tag._getRawValues()
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xa9 in position 0: invalid start byte

======================================================================
ERROR: test_listener_interface (notifying_list.TestNotifyingList)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/vincent/pyexiv2/py3/py3exiv2/test/notifying_list.py", line 73, in test_listener_interface
    self.failUnlessRaises(NotImplementedError, self.values.sort)
  File "/usr/lib/python3.4/unittest/case.py", line 1287, in deprecated_func
    return original_func(*args, **kwargs)
  File "/usr/lib/python3.4/unittest/case.py", line 701, in assertRaises
    return context.handle('assertRaises', callableObj, args, kwargs)
  File "/usr/lib/python3.4/unittest/case.py", line 161, in handle
    callable_obj(*args, **kwargs)
  File "/usr/lib/python3/dist-packages/pyexiv2/utils.py", line 330, in sort
    super(NotifyingList, self).sort(cmp, key)
TypeError: an integer is required (got type NoneType)

======================================================================
ERROR: test_no_listener (notifying_list.TestNotifyingList)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/vincent/pyexiv2/py3/py3exiv2/test/notifying_list.py", line 56, in test_no_listener
    self.values.sort()
  File "/usr/lib/python3/dist-packages/pyexiv2/utils.py", line 330, in sort
    super(NotifyingList, self).sort(cmp, key)
TypeError: an integer is required (got type NoneType)

======================================================================
ERROR: test_sort (notifying_list.TestNotifyingList)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/vincent/pyexiv2/py3/py3exiv2/test/notifying_list.py", line 190, in test_sort
    self.values.sort()
  File "/usr/lib/python3/dist-packages/pyexiv2/utils.py", line 330, in sort
    super(NotifyingList, self).sort(cmp, key)
TypeError: an integer is required (got type NoneType)

======================================================================
ERROR: test_set_value_basestring_for_langalt (xmp.TestXmpTag)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/vincent/pyexiv2/py3/py3exiv2/test/xmp.py", line 362, in test_set_value_basestring_for_langalt
    tag.value = 'bleh'
  File "/usr/lib/python3/dist-packages/pyexiv2/xmp.py", line 239, in _set_value
    self.raw_value = raw_value
  File "/usr/lib/python3/dist-packages/pyexiv2/xmp.py", line 177, in _set_raw_value
    self._tag._setLangAltValue(value)
TypeError: No registered converter was able to produce a C++ rvalue of type std::string from this Python object of type NoneType

======================================================================
ERROR: test_erase_exif_thumbnail (metadata.TestImageMetadata)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/vincent/pyexiv2/py3/py3exiv2/test/metadata.py", line 743, in test_erase_exif_thumbnail
    self.assertEqual(thumb.data, EMPTY_JPG_DATA)
  File "/usr/lib/python3/dist-packages/pyexiv2/exif.py", line 566, in _get_data
    return self._metadata._image._getExifThumbnailData()
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xff in position 0: invalid start byte

======================================================================
ERROR: test_exif_thumbnail_is_preview (metadata.TestImageMetadata)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/vincent/pyexiv2/py3/py3exiv2/test/metadata.py", line 782, in test_exif_thumbnail_is_preview
    self.assertEqual(thumb.data, preview.data)
  File "/usr/lib/python3/dist-packages/pyexiv2/exif.py", line 566, in _get_data
    return self._metadata._image._getExifThumbnailData()
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xff in position 0: invalid start byte

======================================================================
ERROR: test_set_exif_thumbnail_from_data (metadata.TestImageMetadata)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/vincent/pyexiv2/py3/py3exiv2/test/metadata.py", line 704, in test_set_exif_thumbnail_from_data
    self.assertEqual(thumb.data, EMPTY_JPG_DATA)
  File "/usr/lib/python3/dist-packages/pyexiv2/exif.py", line 566, in _get_data
    return self._metadata._image._getExifThumbnailData()
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xff in position 0: invalid start byte

======================================================================
ERROR: test_set_exif_thumbnail_from_file (metadata.TestImageMetadata)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/vincent/pyexiv2/py3/py3exiv2/test/metadata.py", line 718, in test_set_exif_thumbnail_from_file
    self.assertEqual(thumb.data, EMPTY_JPG_DATA)
  File "/usr/lib/python3/dist-packages/pyexiv2/exif.py", line 566, in _get_data
    return self._metadata._image._getExifThumbnailData()
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xff in position 0: invalid start byte

======================================================================
ERROR: test_set_xmp_tag_create (metadata.TestImageMetadata)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/vincent/pyexiv2/py3/py3exiv2/test/metadata.py", line 405, in test_set_xmp_tag_create
    'fr-FR': "Ceci n'est pas un titre"})
  File "/usr/lib/python3/dist-packages/pyexiv2/xmp.py", line 115, in __init__
    self._set_value(value)
  File "/usr/lib/python3/dist-packages/pyexiv2/xmp.py", line 239, in _set_value
    self.raw_value = raw_value
  File "/usr/lib/python3/dist-packages/pyexiv2/xmp.py", line 177, in _set_raw_value
    self._tag._setLangAltValue(value)
TypeError: No registered converter was able to produce a C++ rvalue of type std::string from this Python object of type NoneType

======================================================================
ERROR: test_set_xmp_tag_direct_value_assignment (metadata.TestImageMetadata)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/vincent/pyexiv2/py3/py3exiv2/test/metadata.py", line 446, in test_set_xmp_tag_direct_value_assignment
    self.metadata._set_xmp_tag(key, value)
  File "/usr/lib/python3/dist-packages/pyexiv2/metadata.py", line 248, in _set_xmp_tag
    tag = XmpTag(key, tag_or_value)
  File "/usr/lib/python3/dist-packages/pyexiv2/xmp.py", line 115, in __init__
    self._set_value(value)
  File "/usr/lib/python3/dist-packages/pyexiv2/xmp.py", line 239, in _set_value
    self.raw_value = raw_value
  File "/usr/lib/python3/dist-packages/pyexiv2/xmp.py", line 177, in _set_raw_value
    self._tag._setLangAltValue(value)
TypeError: No registered converter was able to produce a C++ rvalue of type std::string from this Python object of type NoneType

======================================================================
ERROR: test_setitem (metadata.TestImageMetadata)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/vincent/pyexiv2/py3/py3exiv2/test/metadata.py", line 514, in test_setitem
    tag = XmpTag(key, {'x-default': 'Sunset picture.'})
  File "/usr/lib/python3/dist-packages/pyexiv2/xmp.py", line 115, in __init__
    self._set_value(value)
  File "/usr/lib/python3/dist-packages/pyexiv2/xmp.py", line 239, in _set_value
    self.raw_value = raw_value
  File "/usr/lib/python3/dist-packages/pyexiv2/xmp.py", line 177, in _set_raw_value
    self._tag._setLangAltValue(value)
TypeError: No registered converter was able to produce a C++ rvalue of type std::string from this Python object of type NoneType

======================================================================
ERROR: test_buffer_not_updated_until_write_called (buffer.TestBuffer)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/vincent/pyexiv2/py3/py3exiv2/test/buffer.py", line 64, in test_buffer_not_updated_until_write_called
    self.assertEqual(hashlib.md5(m.buffer).hexdigest(), self.md5sum)
  File "/usr/lib/python3/dist-packages/pyexiv2/metadata.py", line 405, in buffer
    return self._image._getDataBuffer()
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xff in position 0: invalid start byte

======================================================================
ERROR: test_from_file_and_from_buffer (buffer.TestBuffer)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/vincent/pyexiv2/py3/py3exiv2/test/buffer.py", line 55, in test_from_file_and_from_buffer
    self.assertEqual(hashlib.md5(m1.buffer).hexdigest(), self.md5sum)
  File "/usr/lib/python3/dist-packages/pyexiv2/metadata.py", line 405, in buffer
    return self._image._getDataBuffer()
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xff in position 0: invalid start byte

======================================================================
ERROR: test_from_modified_buffer (buffer.TestBuffer)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/vincent/pyexiv2/py3/py3exiv2/test/buffer.py", line 88, in test_from_modified_buffer
    m2 = ImageMetadata.from_buffer(m1.buffer)
  File "/usr/lib/python3/dist-packages/pyexiv2/metadata.py", line 405, in buffer
    return self._image._getDataBuffer()
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xff in position 0: invalid start byte

======================================================================
ERROR: test_from_original_buffer (buffer.TestBuffer)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/vincent/pyexiv2/py3/py3exiv2/test/buffer.py", line 77, in test_from_original_buffer
    m2 = ImageMetadata.from_buffer(m1.buffer)
  File "/usr/lib/python3/dist-packages/pyexiv2/metadata.py", line 405, in buffer
    return self._image._getDataBuffer()
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xff in position 0: invalid start byte

======================================================================
FAIL: test_delslice (notifying_list.TestNotifyingList)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/vincent/pyexiv2/py3/py3exiv2/test/notifying_list.py", line 304, in test_delslice
    self.failUnlessEqual(listener.changes, 1)
AssertionError: 2 != 1

======================================================================
FAIL: test_convert_to_python_comment (exif.TestExifTag)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/vincent/pyexiv2/py3/py3exiv2/test/exif.py", line 147, in test_convert_to_python_comment
    self.failIfEqual(tag._convert_to_python('charset="%s" déjà vu' % charset), 'déjà vu')
AssertionError: 'déjà vu' == 'déjà vu'

======================================================================
FAIL: test_convert_to_python_sbyte (exif.TestExifTag)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/vincent/pyexiv2/py3/py3exiv2/test/exif.py", line 128, in test_convert_to_python_sbyte
    self.assertEqual(tag._convert_to_python(b'15'), '15')
AssertionError: b'15' != '15'

======================================================================
FAIL: test_convert_to_string_ascii (exif.TestExifTag)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/vincent/pyexiv2/py3/py3exiv2/test/exif.py", line 102, in test_convert_to_string_ascii
    self.assertEqual(tag._convert_to_string('Some text'), b'Some text')
AssertionError: 'Some text' != b'Some text'

======================================================================
FAIL: test_convert_to_string_comment (exif.TestExifTag)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/vincent/pyexiv2/py3/py3exiv2/test/exif.py", line 158, in test_convert_to_string_comment
    'charset="%s" A comment' % charset)
AssertionError: b'A comment' != 'charset="Ascii" A comment'

======================================================================
FAIL: test_makernote_types (exif.TestExifTag)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/vincent/pyexiv2/py3/py3exiv2/test/exif.py", line 342, in test_makernote_types
    self.failUnlessRaises(ValueError, getattr, tag1, 'value')
AssertionError: ValueError not raised by getattr

======================================================================
FAIL: test_convert_to_python_propername (xmp.TestXmpTag)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/vincent/pyexiv2/py3/py3exiv2/test/xmp.py", line 234, in test_convert_to_python_propername
    self.failUnlessRaises(XmpValueError, tag._convert_to_python, None, 'ProperName')
AssertionError: XmpValueError not raised by _convert_to_python

======================================================================
FAIL: test_convert_to_python_text (xmp.TestXmpTag)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/vincent/pyexiv2/py3/py3exiv2/test/xmp.py", line 254, in test_convert_to_python_text
    self.failUnlessRaises(XmpValueError, tag._convert_to_python, None, 'Text')
AssertionError: XmpValueError not raised by _convert_to_python

======================================================================
FAIL: test_convert_to_string_bag (xmp.TestXmpTag)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/vincent/pyexiv2/py3/py3exiv2/test/xmp.py", line 52, in test_convert_to_string_bag
    self.assertEqual(tag._convert_to_string(u'', 'Text'), '')
AssertionError: b'' != ''

======================================================================
FAIL: test_convert_to_string_propername (xmp.TestXmpTag)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/vincent/pyexiv2/py3/py3exiv2/test/xmp.py", line 244, in test_convert_to_string_propername
    self.failUnlessRaises(XmpValueError, tag._convert_to_string, None, 'ProperName')
AssertionError: XmpValueError not raised by _convert_to_string

======================================================================
FAIL: test_convert_to_string_text (xmp.TestXmpTag)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/vincent/pyexiv2/py3/py3exiv2/test/xmp.py", line 260, in test_convert_to_string_text
    self.assertEqual(tag._convert_to_string('Some text', 'Text'), 'Some text')
AssertionError: b'Some text' != 'Some text'

======================================================================
FAIL: test_convert_to_string_uri (xmp.TestXmpTag)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/vincent/pyexiv2/py3/py3exiv2/test/xmp.py", line 287, in test_convert_to_string_uri
    self.failUnlessRaises(XmpValueError, tag._convert_to_string, None, 'URI')
AssertionError: XmpValueError not raised by _convert_to_string

======================================================================
FAIL: test_convert_to_string_url (xmp.TestXmpTag)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/vincent/pyexiv2/py3/py3exiv2/test/xmp.py", line 306, in test_convert_to_string_url
    self.failUnlessRaises(XmpValueError, tag._convert_to_string, None, 'URL')
AssertionError: XmpValueError not raised by _convert_to_string

======================================================================
FAIL: test_can_only_set_text_values (xmp.TestXmpNamespaces)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/vincent/pyexiv2/py3/py3exiv2/test/xmp.py", line 404, in test_can_only_set_text_values
    self.assertRaises(XmpValueError, self.metadata.__setitem__, key, value)
AssertionError: XmpValueError not raised by __setitem__

======================================================================
FAIL: test_set_iptc_tag_create (metadata.TestImageMetadata)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/vincent/pyexiv2/py3/py3exiv2/test/metadata.py", line 303, in test_set_iptc_tag_create
    tag.raw_value)
AssertionError: Lists differ: ['Nobody'] != [b'Nobody']

First differing element 0:
Nobody
b'Nobody'

- ['Nobody']
+ [b'Nobody']
?  +


======================================================================
FAIL: test_set_iptc_tag_direct_value_assignment (metadata.TestImageMetadata)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/vincent/pyexiv2/py3/py3exiv2/test/metadata.py", line 343, in test_set_iptc_tag_direct_value_assignment
    tag.raw_value)
AssertionError: Lists differ: ['Nobody'] != [b'Nobody']

First differing element 0:
Nobody
b'Nobody'

- ['Nobody']
+ [b'Nobody']
?  +


======================================================================
FAIL: test_set_iptc_tag_overwrite (metadata.TestImageMetadata)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/vincent/pyexiv2/py3/py3exiv2/test/metadata.py", line 314, in test_set_iptc_tag_overwrite
    tag.raw_value)
AssertionError: Lists differ: ['A picture.'] != [b'A picture.']

First differing element 0:
A picture.
b'A picture.'

- ['A picture.']
+ [b'A picture.']
?  +


======================================================================
FAIL: test_set_iptc_tag_overwrite_already_cached (metadata.TestImageMetadata)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/vincent/pyexiv2/py3/py3exiv2/test/metadata.py", line 328, in test_set_iptc_tag_overwrite_already_cached
    new_tag.raw_value)
AssertionError: Lists differ: ['A picture.'] != [b'A picture.']

First differing element 0:
A picture.
b'A picture.'

- ['A picture.']
+ [b'A picture.']
?  +


======================================================================
FAIL: test_set_xmp_tag_overwrite_already_cached (metadata.TestImageMetadata)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/vincent/pyexiv2/py3/py3exiv2/test/metadata.py", line 437, in test_set_xmp_tag_overwrite_already_cached
    new_tag.raw_value)
AssertionError: Lists differ: ['hello', 'world'] != [b'hello', b'world']

First differing element 0:
hello
b'hello'

- ['hello', 'world']
+ [b'hello', b'world']
?  +         +


======================================================================
FAIL: test_write_ascii (usercomment.TestUserCommentReadWrite)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/vincent/pyexiv2/py3/py3exiv2/test/usercomment.py", line 63, in test_write_ascii
    self.assertEqual(tag.raw_value, 'charset="Ascii" foo bar')
AssertionError: b'foo bar' != 'charset="Ascii" foo bar'

======================================================================
FAIL: test_write_unicode_over_ascii (usercomment.TestUserCommentReadWrite)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/vincent/pyexiv2/py3/py3exiv2/test/usercomment.py", line 71, in test_write_unicode_over_ascii
    self.assertEqual(tag.raw_value, 'déjà vu')
AssertionError: b'd\xc3\xa9j\xc3\xa0 vu' != 'déjà vu'

----------------------------------------------------------------------
Ran 180 tests in 3.561s

FAILED (failures=21, errors=16)

